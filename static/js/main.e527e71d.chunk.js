(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(22)},16:function(e,t,n){},18:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n.n(i),r=n(6),s=n.n(r),o=(n(16),n(1)),c=n(2),u=n(9),h=n(7),f=n(10),d=(n(18),n(0)),l=function(){function e(t){var n=this,i=t.scene;Object(o.a)(this,e);this.objects=[];for(var a=function(e){for(var t=function(t){var i,a=new d.a(1,1,1),r=new d.f({color:13056}),s=new d.e(a,r),o=new d.b(a),c=new d.c({color:16777215,linewidth:10}),u=[s,new d.d(o,c)];u.forEach(function(n){n.position.x=2*e-5,n.position.y=2*t-4}),(i=n.objects).push.apply(i,u)},i=0;i<4;i++)t(i)},r=0;r<5;r++)a(r);this.objects.forEach(function(e){i.add(e)})}return Object(c.a)(e,[{key:"animate",value:function(e){var t=e.spectrum;if(t.length){this.objects.forEach(function(e){e.scale.x=1+3*Math.pow(t[50],5),e.scale.y=1+3*Math.pow(t[100],5),e.scale.z=1+3*Math.pow(t[150],5)})}}}]),e}(),w=function(){function e(t){var n=t.canvas;Object(o.a)(this,e);var i=new d.h,a=new d.g(76,1,.1,1e3),r=n.getContext("webgl2"),s=new d.i({canvas:n,context:r});this.canvas=n,this.scene=i,this.camera=a,this.renderer=s,a.position.z=5,this.visualizers=[new l({scene:i})]}return Object(c.a)(e,[{key:"animate",value:function(e){var t=e.width,n=e.height,i=e.spectrum;t===this.lastWidth&&n===this.lastHeight||(this.renderer.setSize(t,n),this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.lastWidth=t,this.lastHeight=n),this.visualizers.forEach(function(e){return e.animate({spectrum:i})}),this.renderer.render(this.scene,this.camera)}}]),e}(),m=n(4),v=n.n(m),p=n(8),y=function(){function e(){var t=this;Object(o.a)(this,e),this.getAudioAnalyser().then(function(e){return t.analyser=e})}return Object(c.a)(e,[{key:"getAudioAnalyser",value:function(){var e=Object(p.a)(v.a.mark(function e(){var t,n,i,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:return t=e.sent,n=new AudioContext,i=n.createMediaStreamSource(t),(a=n.createAnalyser()).fftSize=512,i.connect(a),e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getSpectrum",value:function(){var e=[];this.analyser&&(e=new Uint8Array(this.analyser.frequencyBinCount),this.analyser.getByteFrequencyData(e));var t=new Array(e.length);return e.forEach(function(e,n){return t[n]=e/255}),t}}]),e}(),g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(u.a)(this,Object(h.a)(t).call(this,e))).canvasRef=a.a.createRef(),n.state={width:1,height:1},n}return Object(f.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("canvas",{id:"main",ref:this.canvasRef})}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"componentDidMount",value:function(){var e=this;this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this));var t=new y,n=new w({canvas:this.canvasRef.current});!function i(){e.animationFrameRequest=requestAnimationFrame(i),n.animate({spectrum:t.getSpectrum(),width:e.state.width,height:e.state.height})}()}},{key:"componentWillUnmount",value:function(){this.animationFrameRequest&&cancelAnimationFrame(this.animationFrameRequest),window.removeEventListener("resize",this.updateDimensions.bind(this))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.e527e71d.chunk.js.map